---
tags:
  - journal
creation date: Wednesday 20th August 2025
---
Takeaways, Critiques and Questions about [NetYeti's Split DNS Description](https://growlf.github.io/journal/Tricks/Split-DNS):
### Takeaways:
Reason for Split DNS
- Segment LAN from public
- Want one external IP, but multiple services under individual domain addresses
Public DNS Steps: 
1. DNS Query with Public DNS
2. HTTPS Query on 443 port
3. HTTPS Response from Docker Overlay Network on Private LAN on a return port

Private DNS Steps:
1. DHCP assigns internal DNS[^2]
2. DNS Query with Private DNS
3. HTTPS Query to Docker Overlay Network
	1. CNAME is translated to three individual addresses which are the Docker nodes in the swarm
	2. Overlay Network routes traffic on port 80 and 443 to a Proxy Container/Service on node 2, but the Proxy can be on any node in the swarm
	3. Proxy holds a hash table of FQDN[^3] names with addresses with ports and SSL certifications
4. HTTPS Response from Private LAN 

Docker Overlay Network Pros
- Acts like a VLAN and firewall
- Can route and load balance
### Critiques
When referencing an image, there can be an indicator (e.g. a number "Figure 1 shows..." or a direct reference "Left side of the image shows...", or a footnote[^1])

### Questions
What does return port mean on the image?

Can you clarify `DHCP will handout the internal DNS automatically and all statically assigned systems will have it as well, they will all request the address internally and get a CNAME record that further translates to three individual addresses.` 
	Where does the DHCP live?
	What is the specific address (or example) that ALL statically assigned systems request? 



[^1]: This is a footnote

[^2]: Needs clarifying

[^3]: Fully Qualified Domain Name
